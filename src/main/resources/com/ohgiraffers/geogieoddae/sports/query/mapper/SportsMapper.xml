<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ohgiraffers.geogieoddae.sports.query.mapper.SportsMapper">

    <resultMap id="sportResultMap" type="com.ohgiraffers.geogieoddae.sports.query.dto.SportQueryDto">
        <result property="sportName" column="sport_name"/>
        <result property="sportDescription" column="sport_decription"/>
    </resultMap>

    <resultMap id="teamResultMap" type="com.ohgiraffers.geogieoddae.sports.query.dto.TeamQueryDto">
        <result property="teamName" column="team_name"/>
        <result property="teamDescription" column="team_description"/>
        <result property="sportName" column="sport_name"/>
    </resultMap>

    <!-- 스포츠 종목 목록 조회 -->
    <select id="selectSportList" resultMap="sportResultMap">
        SELECT
               sport_name,
               sport_decription
          FROM sport
         ORDER BY sport_code DESC
    </select>

    <!-- 스포츠 종목 상세 조회 -->
    <select id="selectSportByCode" resultMap="sportResultMap">
        SELECT
               sport_name,
               sport_decription
          FROM sport
         WHERE sport_code = #{sportCode}
    </select>

    <!-- 스포츠 팀 목록 조회 (전체) -->
    <select id="selectTeamList" resultMap="teamResultMap">
        SELECT
               t.team_name,
               t.team_description,
               s.sport_name
          FROM team t
          JOIN sport s ON t.sport_code = s.sport_code
         ORDER BY t.team_code DESC
    </select>

    <!-- 특정 스포츠 종목의 팀 목록 조회 -->
    <select id="selectTeamListBySportCode" resultMap="teamResultMap">
        SELECT
               t.team_name,
               t.team_description,
               s.sport_name
          FROM team t
          JOIN sport s ON t.sport_code = s.sport_code
         WHERE t.sport_code = #{sportCode}
         ORDER BY t.team_code DESC
    </select>

    <!-- 스포츠 팀 상세 조회 -->
    <select id="selectTeamByCode" resultMap="teamResultMap">
        SELECT
               t.team_name,
               t.team_description,
               s.sport_name
          FROM team t
          JOIN sport s ON t.sport_code = s.sport_code
         WHERE t.team_code = #{teamCode}
    </select>

</mapper>
