<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.geogieoddae.mainservice.announcement.query.mapper.AnnouncementMapper">

    <resultMap id="announcementResultMap" type="com.geogieoddae.mainservice.announcement.query.dto.AnnouncementQueryDto">
        <id property="announcementCode" column="announcement_code"/>
        <result property="announcementTitle" column="announcement_title"/>
        <result property="announcementContent" column="announcement_content"/>
    </resultMap>

    <!-- 공지 목록 조회 -->
    <select id="selectAnnouncementList" resultMap="announcementResultMap">
        SELECT
               announcement_code,
               announcement_title,
               announcement_content
          FROM announcement
         ORDER BY created_at DESC, announcement_code DESC
    </select>

    <!-- 공지 상세 조회 -->
    <select id="selectAnnouncementByCode" resultMap="announcementResultMap">
        SELECT
               announcement_code,
               announcement_title,
               announcement_content
          FROM announcement
         WHERE announcement_code = #{announcementCode}
    </select>

</mapper>

